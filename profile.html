<!DOCTYPE html>
<html lang="bs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vintage Thrift Store - Profil</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-inner">
            <div class="logo">Vintage Thrift Store</div>
            <div class="menu-container">
                <div class="hamburger-icon" id="hamburgerIcon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="menu-dropdown" id="menuDropdown">
                    <div class="category-section">
                        <h3>Godišnje doba</h3>
                        <ul>
                            <li><a href="index.html" class="filter-option" data-season="sve">Sve</a></li>
                            <li><a href="index.html" class="filter-option" data-season="proljece">Proljeće</a></li>
                            <li><a href="index.html" class="filter-option" data-season="ljeto">Ljeto</a></li>
                            <li><a href="index.html" class="filter-option" data-season="jesen">Jesen</a></li>
                            <li><a href="index.html" class="filter-option" data-season="zima">Zima</a></li>
                        </ul>
                    </div>
                    <div class="category-section">
                        <h3>Kategorija</h3>
                        <ul>
                            <li><a href="index.html" class="filter-option" data-type="sve">Sve</a></li>
                            <li><a href="index.html" class="filter-option" data-type="musko">Muško</a></li>
                            <li><a href="index.html" class="filter-option" data-type="zensko">Žensko</a></li>
                            <li><a href="index.html" class="filter-option" data-type="djecije">Dječije</a></li>
                            <li><a href="index.html" class="filter-option" data-type="jakne">Jakne</a></li>
                            <li><a href="index.html" class="filter-option" data-type="duksevi">Duksevi</a></li>
                            <li><a href="index.html" class="filter-option" data-type="majice">Majice</a></li>
                            <li><a href="index.html" class="filter-option" data-type="jeans">Jeans</a></li>
                            <li><a href="index.html" class="filter-option" data-type="sorcevi">Šorcevi</a></li>
                            <li><a href="index.html" class="filter-option" data-type="kosulje">Košulje i bluze</a></li>
                            <li><a href="index.html" class="filter-option" data-type="handmade">Handmade</a></li>
                            <li><a href="index.html" class="filter-option" data-type="starine">Starine</a></li>
                            <li><a href="index.html" class="filter-option" data-type="ostalo">Ostalo</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="index.html">Početna</a></li>
                    <li><a href="favorites.html">Favoriti</a></li>
                    <li><a href="cart.html">Korpa</a></li>
                    <li><a href="sell.html" class="sell-button">Prodaj svoju odjeću</a></li>
                    <li><a href="profile.html" class="profile-link active">Moj profil</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="profile-container">
        <div class="profile-header">
            <img src="https://via.placeholder.com/100" alt="Korisnički avatar" class="profile-avatar" id="profileAvatar">
            <div class="profile-info">
                <h1 class="profile-username" id="profileUsername">Korisničko ime</h1>
                <div class="profile-stats">
                    <span id="profileItemCount">0 artikala</span>
                    <span>Član od <span id="profileMemberSince">Januar 2025</span></span>
                </div>
                <div class="profile-actions">
                    <a href="sell.html" class="add-listing-btn">Dodaj novi artikal</a>
                    <button class="logout-btn" id="logoutBtn">Odjavi se</button>
                </div>
            </div>
        </div>

        <div class="profile-tabs">
            <button class="profile-tab active" data-tab="listings">Moji artikli</button>
            <button class="profile-tab" data-tab="favorites">Favoriti</button>
            <button class="profile-tab" data-tab="orders">Narudžbe</button>
        </div>

        <div class="profile-content">
            <!-- Moji artikli sekcija -->
            <div class="profile-section active" id="listings-section">
                <div id="user-listings" class="products-grid">
                    <!-- Ovdje će se dinamički učitati artikli korisnika -->
                </div>
            </div>

            <!-- Favoriti sekcija -->
            <div class="profile-section" id="favorites-section">
                <div id="user-favorites" class="products-grid">
                    <!-- Ovdje će se dinamički učitati favoriti korisnika -->
                </div>
            </div>
            
            <!-- Narudžbe sekcija -->
            <div class="profile-section" id="orders-section">
                <div id="user-orders" class="orders-list">
                    <!-- Ovdje će se dinamički učitati narudžbe korisnika -->
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>Vintage Thrift Store &copy; 2025</p>
    </footer>

    <script src="js/profile.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Provjera je li korisnik prijavljen
            const prijavljeniKorisnikJSON = localStorage.getItem('prijavljeniKorisnik');
            
            if (!prijavljeniKorisnikJSON) {
                // Ako korisnik nije prijavljen, preusmjeri na register.html
                window.location.href = 'register.html';
                return;
            }
            
            // Hamburger menu funkcionalnost
            const hamburgerIcon = document.getElementById('hamburgerIcon');
            const menuDropdown = document.getElementById('menuDropdown');
            
            if (hamburgerIcon && menuDropdown) {
                hamburgerIcon.addEventListener('click', function() {
                    this.classList.toggle('active');
                    menuDropdown.classList.toggle('show');
                });
                
                // Zatvaranje menija klikom izvan
                document.addEventListener('click', function(e) {
                    if (!hamburgerIcon.contains(e.target) && !menuDropdown.contains(e.target)) {
                        hamburgerIcon.classList.remove('active');
                        menuDropdown.classList.remove('show');
                    }
                });
            }
            
            // Funkcionalnost za tabove
            const profileTabs = document.querySelectorAll('.profile-tab');
            const profileSections = document.querySelectorAll('.profile-section');
            
            profileTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabName = this.getAttribute('data-tab');
                    
                    // Ukloni active klasu sa svih tabova i sekcija
                    profileTabs.forEach(t => t.classList.remove('active'));
                    profileSections.forEach(s => s.classList.remove('active'));
                    
                    // Dodaj active klasu na odabrani tab i sekciju
                    this.classList.add('active');
                    document.getElementById(`${tabName}-section`).classList.add('active');
                });
            });
            
            // Odjava korisnika
            document.getElementById('logoutBtn').addEventListener('click', function() {
                if (confirm('Jeste li sigurni da se želite odjaviti?')) {
                    localStorage.removeItem('prijavljeniKorisnik');
                    window.location.href = 'index.html';
                }
            });
        });
    </script>
</body>
</html>
